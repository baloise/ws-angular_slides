<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Angular Workshop | 02 Grundlagen</title>

    <link rel="stylesheet" href="../css/reveal.css">
    <link rel="stylesheet" href="../css/theme/baloise.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="../lib/css/atom-one-dark.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? '../css/print/pdf.css' : '../css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section class="deck-slide" data-background="#E5F3F9">
            <h1>Grundlagen - Ökosystem</h1>
        </section>
        <section>
            <section>
                <h2>ES5 / ES6 / TS</h2>
                <img src="../img/js_history.png">
            </section>
            <section>
                <h2>ES5</h2>
                <ul>
                    <li>JavaScript das alle modernen Browser unterstützen</li>
                    <li>neuere Versionen werden meist nach ES5 kompiliert / transpiliert</li>
                </ul>
            </section>
            <section>
                <h2>ES6 / ES2015</h2>
                <ul>
                    <li>Neuere Version aus dem Jahr 2015</li>
                    <li>Wird meist mit Babel oder dem Google Closure Compiler zu ES5 transpiliert</li>
                    <li>Klassen, Arrow Funktionen, Block scoped let und const, Module, Multiline Strings...</li>
                </ul>
            </section>
            <section>
                <h2>TypeScript</h2>
                <ul>
                    <li>Von Microsoft entwickelte Erweiterung</li>
                    <li>Wird mit dem TypeScript Compiler zu JavaScript kompiliert</li>
                    <li>Typisierung, Annotationen / Decorator, Interfaces, Generics</li>
                </ul>
            </section>
        </section>
        <section class="deck-slide" data-background="#E5F3F9">
            <h1>ES6 & Funktionen</h1>
        </section>
        <section>
            <h2>ES6 Neuerungen</h2>
            <h3>Fat arrow functions</h3>
            <pre>
                <code class="hljs" data-trim contenteditable data-noescape>
                    // old way
                    [1, 2, 3].map(function (number) {
                       return number * 2;
                    });
                    // [2, 4, 6]
                     <span class="fragment">
                    // ES6 way
                    [1, 2, 3].map(number => number * 2);
                    // [2, 4, 6]
                     </span>
				</code>
            </pre>
        </section>
        <section>
            <section>
                <h3>Block scoped let</h3>
                <pre>
                    <code class="hljs javascript" data-trim contenteditable data-noescape>
                         // old way
                         for (var i = 0; i < 2; i++) {
                            // mach etwas
                         }
                         console.log(i);  <span class="fragment"> // 1</span>

                         <span class="fragment">
                         // ES6 way
                         for (let i = 0; i < 2; i++) {
                            // mach etwas
                         }
                         console.log(i); <span class="fragment">  // i is not defined </span>
                        </span>
                    </code>
            </pre>
            </section>
            <section>
                <h3>var vs. let vs. const</h3>
                <ul>
                    <li>var ist function scoped</li>
                    <li>let und const sind block scoped</li>
                    <li>let ist the new var ;-)</li>
                    <li>const ist ähnlich wie das final in Java</li>
                    <li><span class="warn">Achtung!</span> Objekte oder Arrays können durchaus mutiert werden! (siehe final)</li>
                </ul>
            </section>
        </section>
        <section>
            <h3>Objekt Literale</h3>
            <pre>
                 <code class="hljs javascript" data-trim contenteditable>
                     let lastName = "Muster";
                     let obj = {
                        firstName: "Hans",
                        lastName,
                        hobbies: ["Tennis", "Lesen"]
                     };

                     let obj = {};
                     obj.firstName = "Hans";
                     obj.lastName = "Muster";
                     obj.hobbies = ["Tennis", "Lesen"];
				 </code>
            </pre>
        </section>
        <section>
            <h3>Template Strings</h3>
            <h4>Werden mit dem Backtick ` erzeugt</h4>
            <pre>
                 <code class="hljs javascript" data-trim contenteditable>
                     let name = 'Hans';
                     let templString = `Hallo
                        ${name},
                        wie geht es dir?`
                     console.log(templString); // Hallo
                                               // Hans,
                                               // wie geht es dir?
				 </code>
            </pre>
        </section>
        <section>
            <section>
                <h3>Advanced Features</h3>
                <h4>Für die Schulung nicht notwendig</h4>
                <ul>
                    <li>Rest & Spreading</li>
                    <li>Destructuring</li>
                    <li>Funktionen als Parameter und Return Value</li>
                </ul>
            </section>
            <section>
                <h3>...Rest & [... Spreading]</h3>
                <h4>Rest Parameter</h4>
                <pre>
                     <code class="hljs javascript" data-trim contenteditable data-noescape>
                         function info(name, ...hobbies) {
                            hobbies.forEach(hobby => console.log(hobby));
                         }
                         info("Hans", "Tennis", "Squash", "Schach");
                         <span class="fragment">
                         // "Tennis" "Squash" "Schach"
                         </span>
                         function multiply(multi, ...numbers) {
                            return numbers.map(num => multi * num);
                         }
                         console.log(multiply(2, 3, 4, 5, 6));
                         <span class="fragment">
                         // [6, 8 , 10, 12]
                         </span>
                     </code>
                </pre>
            </section>
            <section>
                <h4>Spread Operator</h4>
                <pre>
                     <code class="hljs javascript" data-trim contenteditable data-noescape>
                         // Arrays kopieren
                         let arr = [1, 2]
                         let newArr = [...arr]
                         <span class="fragment">
                         // Arrays zusammenführen
                         let devs = ["Hans", "Reto"];
                         let testers = ["Peter", "Nicole"];
                         let employees = ["El jefe", ...devs, ...testers];
                         console.log(employees);
                         // ["El jefe", "Hans", "Reto", "Peter", "Nicole"]
                         </span><span class="fragment">

                         let today = [2017, 2, 29];
                         console.log(new Date(...today).toDateString());
                         // Wed Mar 29 2017
                        </span>
                     </code>
                </pre>
            </section>
            <section>
                <h3>Destructuring</h3>
                <h4>Daten aus Arrays extrahieren</h4>
                <pre>
                     <code class="hljs javascript" data-trim contenteditable data-noescape>
                         let arr = [1, 2, 3];
                         let [a, b] = arr;
                         console.log(a); // 1
                         console.log(b); // 2

                         <span class="fragment">
                         let arr = [1, 2, 3, 4, 5];
                         let [a, , ...rest] = arr;
                         console.log(a); // 1
                         console.log(rest); // [3, 4, 5]
                         </span>
                     </code>
                 </pre>
            </section>
            <section>
                <h4>Daten aus Objekten extrahieren</h4>
                <pre>
                     <code class="hljs javascript" data-trim contenteditable data-noescape>
                         let obj = {
                            firstName: "Hans",
                            lastName: "Muster",
                            hobbies: ["Tennis", "Lesen"]
                         };

                         let {firstName, hobbies} = obj;
                         console.log(firstName); // "Hans"
                         console.log(hobbies); // ["Tennis", "Lesen"]

                         let {firstName: vorname} = obj;
                         console.log(vorname); // "Hans"
                         </span>
                     </code>
                 </pre>
            </section>
            <section>
                <h3>Funktionen als First Class Objekte</h3>
                <h4>Zuweisung</h4>
                <pre>
                     <code class="hljs javascript" data-trim contenteditable data-noescape>
                         let func = function() {
                            // mach etwas
                         }
                         // nicht anonym - praktisch beim debuggen
                         let func = function funcName() {
                            // mach etwas
                         }
                        <span class="fragment">
                        // seit ES6
                        let es6Func = () => console.log("Hello");
                        es6Func(); // "Hello"
                        let add = (a, b) => a + b;
                        console.log(add(3, 4)); // 7
                        </span>
                     </code>
                 </pre>
            </section>
            <section>
                <h4>Zuweisung (2)</h4>
                <pre>
                     <code class="hljs javascript" data-trim contenteditable data-noescape>
                        // Bei einem Parameter ohne Klammern möglich
                        let potenz = n => n * n;
                        console.log(potenz(4)); // 16
                     </code>
                 </pre>
            </section>
            <section>
                <h4>Funktionen als Return value</h4>
                <pre>
                     <code class="hljs javascript" data-trim contenteditable data-noescape>
                         let addThree = (a) => (b) => (c) => a + b + c;
                         console.log(addThree(1)(4)(3)); // 8

                         // oder in ES5
                         var addThreeOld = function addThreeOld(a) {
                            return function(b) {
                                return function (c) {
                                    return a + b + c;
                                }
                            };
                         };
                         console.log(addThreeOld(1)(4)(3)); // 8

                         // Ohne Klammern ;-)
                         let addThree = a => b => c => a + b + c;
                     </code>
                 </pre>
            </section>
            <section>
                <h4>Funktionen als Parameter</h4>
                <pre>
                     <code class="hljs javascript" data-trim contenteditable data-noescape>
                         function renderCustomer(c) {
                           console.log(c); // "Hans Muster"
                         }

                         function getFullName(name, callback) {
                           let lastName = 'Muster';
                           callback(name + ' ' + lastName);
                         }

                         getFullName("Hans", function(result) {
                            return renderCustomer(result);
                         });
                         <span class="fragment">
                         getFullName("Hans", renderCustomer);
                         </span>
                     </code>
                 </pre>
            </section>
        </section>
        <section>
            <h3>Default Parameter</h3>
            <h4>Wenn Parameter nicht übergeben werden oder undefined sind</h4>
            <pre>
                 <code class="hljs javascript" data-trim contenteditable>
                     function fullName(first = "Hans", last = "Muster") {
                        return first + ' ' + last;
                     }
                     console.log(fullName("Peter")); // "Peter Muster"
				 </code>
            </pre>
        </section>
        <section>
            <section>
                <h2>JS Besonderheiten</h2>
                <h3>Truthy und Falsy</h3>
                <ul>
                    <li>false</li>
                    <li>0</li>
                    <li>"" (empty string)</li>
                    <li>null</li>
                    <li>undefined</li>
                    <li>NaN</li>
                </ul>
            </section>
            <section>
                <h3>Null checks & Triple equals</h3>
                <pre>
                 <code class="hljs typescript" data-trim contenteditable data-noescape>
                     let customer = getCustomer();
                     if(customer === null || customer === undefined) {
                        // do sth.
                     }

                     if(!customer) {
                        // do sth.
                     }
                 </code>
             </pre>
            </section>
        </section>
        <section class="deck-slide" data-background="#E5F3F9">
            <h1>TypeScript Features</h1>
        </section>
        <section>
            <section>
                <h2>Klassen</h2>
                <h3>Constructor / shorthand</h3>
                <pre>
                 <code class="hljs typescript" data-trim contenteditable data-noescape>
                     class CustomerComponent {
                        constructor(private service: Service) {
                        }

                        findAll() {
                            return this.service.findAll();
                        }
                     }
                 </code>
             </pre>
            </section>
            <section>
                <h3>Getter / Setter Syntax</h3>
                <pre>
                     <code class="hljs typescript" data-trim contenteditable data-noescape>
                         class CustomerService {
                            private _customers: Customer[] = [{name: "Hans"}];
                            get customers() {
                                return this._customers;
                            }
                            set customers(customers: Customer[]) {
                                this._customers = customers;
                            }

                            extractName(customer: Customer) {
                                return customer.name;
                            }

                            getCustomerNames() {
                                return this.customers.map(extractName);
                            }
                         }
                     </code>
                 </pre>
            </section>
        </section>
        <section>
            <h2>Typen</h2>
            <table>
                <tr>
                    <th>Typ Java</th>
                    <th>Typ TypeScript</th>
                </tr>
                <tr>
                    <td>Object</td>
                    <td>any</td>
                </tr>
                <tr>
                    <td>void</td>
                    <td>void</td>
                </tr>
                <tr>
                    <td>boolean</td>
                    <td>boolean</td>
                </tr>
                <tr>
                    <td>int, long, short...</td>
                    <td>number</td>
                </tr>
                <tr>
                    <td>String, char</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>Type[]</td>
                    <td>Type[] / Array&lt;Type></td>
                </tr>
            </table>
        </section>
        <section>
            <section>
                <h2>Typisierung - Interfaces</h2>
                <pre>
                     <code class="hljs typescript" data-trim contenteditable data-noescape>
                         interface Customer {
                            hobbies: string[]
                         }
                         let validCus: Customer = {
                            hobbies: ["Tennis", "Squash"]
                         }

                         // Type '{ hobbies: string; }' is not assignable to
                         // type 'Customer'. Types of property 'hobbies' are
                         // incompatible. Type 'string' is not assignable
                         // to type 'string[]'.
                         let compileError: Customer = {
                            hobbies: "Tennis"
                         }
                     </code>
                 </pre>
            </section>
            <section>
                <h3>optional properties</h3>
                <pre>
                     <code class="hljs typescript" data-trim contenteditable data-noescape>
                         interface Customer {
                            mandatory: string;
                            optional?: string[]
                         }

                         let validCus: Customer = {
                            mandatory: "Mandatory"
                         }

                         // type '{ optional: string; }' is not assignable to
                         // type 'Customer'. Property 'mandatory' is missing
                         // in type '{ optional: string; }'.
                         let compileError: Customer = {
                            optional: ["Optional", "Prop"]
                         }
                     </code>
                 </pre>
            </section>
            <section>
                <h3>Funktionen in Interfaces</h3>
                <pre>
                     <code class="hljs typescript" data-trim contenteditable data-noescape>
                         interface Customer {
                            mandatory: string;
                            optional?: string[];
                            fullName: (first: string, last: string) => string;
                         }

                         let customer: Customer = {
                             mandatory: "Hans",
                             fullName(first, last) {
                                 return first + " " + last;
                             }
                         }
                     </code>
                 </pre>
            </section>
            <section>
                <h3>Union Types</h3>
                <pre>
                     <code class="hljs typescript" data-trim contenteditable data-noescape>
                         function printAge(age: number | string) {
                            console.log(age);
                         }

                         printAge(1); // 1
                         printAge("1"); // 1

                         // Argument of type 'number[]' is not assignable
                         // to parameter of type 'string | number'.
                         printAge([1, 2, 3])
                     </code>
                 </pre>
            </section>
        </section>
        <section>
            <h2>Type Inference</h2>
            <pre>
                 <code class="hljs typescript" data-trim contenteditable data-noescape>
                     class Service {
                        private url = "/api";

                        createFullUrl(endpoint: number) {
                            //Type 'number' is not assignable to type 'string'
                            this.url = endpoint;
                            return 'localhost' + this.url;
                        }

                        getCustomerUrl() {
                            // Argument of type 'string' is not
                            // assignable to parameter of type 'number'.
                            return this.createFullUrl('customer');
                        }
                    }
                 </code>
             </pre>
        </section>
        <section>
            <section>
                <h2>Module</h2>
                <h3>Export</h3>
                <pre>
                     <code class="hljs typescript" data-trim contenteditable data-noescape>
                         export const API_URL = '/api';
                         export interface Person = {
                            name: string;
                         }
                         export function add(a: number, b: number) {
                            return a + b;
                         }
                         export const addFive(a: number) => a + 5;
                         export class Customer {
                            name: string;
                            constructor() {}
                         }
                     </code>
                 </pre>
            </section>
            <section>
                <h3>Import</h3>
                <pre>
                     <code class="hljs typescript" data-trim contenteditable data-noescape>
                         // wie Destructuring ;-)
                         import {Customer, Person} from "./customer";
                         import {Component} from "@angular/core";

                         let customer = new Customer();
                         let person: Person = {
                            name: "Hans"
                         }

                         import 'rxjs/add/operator/map';

                         import * as alias from "./exports";

                         let addFunc = alias.addFive;
                     </code>
                 </pre>
            </section>
        </section>
        <section>
            <h2>Nützliche Links</h2>
            <ul>
                <li><a href="http://www.typescriptlang.org/play/index.html">TypeScript Playground - Online Editor</a>
                </li>
                <li><a href="http://www.typescriptlang.org/docs/handbook/basic-types.html">TypeScript Handbook -
                    Doku</a></li>
                <li><a href="https://basarat.gitbooks.io/typescript/content/">TypeScript Deep Dive - Buch</a></li>
            </ul>
        </section>
        <section>
            <h2>Question Time!</h2>
            <img src="../img/dumb_questions.jpg" width="80%">
        </section>
    </div>
</div>
<script src="../lib/js/head.min.js"></script>
<script src="../js/reveal.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        history: true,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            {src: '../plugin/markdown/marked.js'},
            {src: '../plugin/markdown/markdown.js'},
            {src: '../plugin/notes/notes.js', async: true},
            {
                src: '../plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            }
        ]
    });
</script>
</body>
</html>
