<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Angular Workshop | 11 Forms</title>

    <link rel="stylesheet" href="../css/reveal.css">
    <link rel="stylesheet" href="../css/theme/baloise.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="../lib/css/atom-one-dark.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? '../css/print/pdf.css' : '../css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section class="deck-slide">
            <h1>Forms</h1>
        </section>
        <section>
            <section>
                <h2>Forms in Angular</h2>
                <ul>
                    <li>there are two approaches: <a href="https://angular.io/guide/forms" target="_blank">
                        Template Driven</a> and
                        <a href="https://angular.io/guide/reactive-forms" target="_blank">Reactive</a> Forms
                    </li>
                    <li><span class="code">Template Driven</span> Forms are simpler and are almost exclusively defined in the HTML.
                    </li>
                    <li><span class="code">Reactive</span> or <span class="code">Model Driven</span> Forms are initially more complex, are defined in large parts in the SourceCode and are way more powerful
                    </li>
                    <li>We limit ourselves to <span class="code">Template Driven Forms</span> for this course.</li>
                </ul>
            </section>
            <section>
                <h3>Tasks of Forms</h3>
                <ul>
                    <li>Controls / Inputs and Bindings</li>
                    <li>Changes, Dirty State</li>
                    <li>Input Validation</li>
                    <li>Displaying errors and warnings</li>
                    <li>Submission of entered data</li>
                </ul>
            </section>
        </section>
        <section>
            <section>
                <h2>Form Basics</h2>
                <ul>
                    <li>Forms live inside of HTML <span class="code">&lt;form></span> tags</li>
                    <li>access to Angular Form Properties are possible by using a reference variable</li>
                    <li>with <span class="code">formVariable.value</span> you can access the status of the form</li>
                </ul>
                <pre>
                    <code class="hljs html" data-trim contenteditable>
                        &lt;form #pizzaForm="ngForm">
                            {{pizzaForm.value | json}}
                        &lt;/form>
                    </code>
                </pre>
            </section>
            <section>
                <h3>Form Submit</h3>
                <ul>
                    <li>a form is submitted, if a button of type <span class="code">submit</span> is clicked</li>
                    <li>the <span class="code">ngSubmit</span> event allows you to control what happens on submit</li>
                </ul>
                <pre>
                    <code class="hljs html" data-trim contenteditable>
                        &lt;form (ngSubmit)="machWas()">
                            &lt;input type="text" class="form-control"
                               [(ngModel)]="pizza.name" name="pizzaName">
                            &lt;button type="submit">Los!&lt;/button>
                        &lt;/form>
                    </code>
                </pre>
            </section>
            <section>
                <h3>Form Properties</h3>
                <ul>
                    <li>useful properties about the form</li>
                    <li>useful to enable/disable saving, display messages and so on</li>
                </ul>
                <pre>
                    <code class="hljs html" data-trim contenteditable>
                        <!-- Current Values as JSON -->
                        &lt;p>Value: {{pizzaForm.value | json}}&lt;/p>
                        <!-- Validity -->
                        &lt;p>Invalid: {{pizzaForm.invalid}}&lt;/p>
                        &lt;p>Valid: {{pizzaForm.valid}}&lt;/p>
                        <!-- User has touched -->
                        &lt;p>Touched: {{pizzaForm.touched}}&lt;/p>
                        &lt;p>Untouched: {{pizzaForm.untouched}}&lt;/p>
                        <!-- Values have changed -->
                        &lt;p>Pristine: {{pizzaForm.pristine}}&lt;/p>
                        &lt;p>Dirty: {{pizzaForm.dirty}}&lt;/p>
                    </code>
                </pre>
            </section>
            <section>
                <h3>Form Bindings</h3>
                <ul>
                    <li>a simple possibility are two-way bindings with <span class="code">[(ngModel)]</span></li>
                    <li>It is important to assign a <span class="warn">unique</span> name attribute</li>
                </ul>
                <pre>
                    <code class="hljs html" data-trim contenteditable>
                        &lt;form (ngSubmit)="machWas()">
                            &lt;input type="text" class="form-control"
                               [(ngModel)]="pizza.name" name="pizzaName">
                            &lt;button type="submit">Los!&lt;/button>
                        &lt;/form>
                    </code>
                </pre>
            </section>
            <section>
                <h3>Task 11.1 - Forms</h3>
                <ul>
                    <!-- TODO REVIEW: is it really 10_Routing_2 ? not 11?-->
                    <li>Branch: <span class="code">10_Routing_2</span></li>
                    <li>Create a <span class="code">Visitor</span> component to the right of the table</li>
                    <li>The component should display the currently selected visitor in a form</li>
                    <li>Limit yourself to first name and last name, as well as a submit and a delete button</li>
                    <li>Use the service and REST API to perform save and delete operations </li>
                </ul>
            </section>
            <section>
                <h3>Task 11.1 - Possible Solution</h3>
                <ul>
                    <li>Branch: <span class="code">11_Forms_1</span></li>
                    <li>if you want to throw your local changes <span class="warn">away</span> and you want to see the solution:
                        <span class="code">git reset --hard && git checkout 11_Forms_1</span>
                    </li>
                </ul>
            </section>
            <section>
                <h3>Task 11.2 - Country ComboBox</h3>
                <ul>
                    <li>Branch: <span class="code">11_Forms_1</span></li>
                    <li>Add the country to the form as a ComboBox</li>
                    <li>You can retrieve all countries from this API: <span class="code">api/countries</span></li>
                    <li>a ComboBox consists of one <span class="code">select</span> with many <span class="code">options</span></li>
                </ul>
                <pre>
                    <!-- TODO REVIEW: also translate the code?-->
                    <code class="hljs html" data-trim contenteditable>
                        &lt;select [(ngModel)]="pizza.zutat"
                                name="zutat" #select>
                            &lt;option *ngFor="let zutat of zutaten"
                                    [value]="zutat"
                                    [selected]="zutat === select.value">
                                {{zutat}}
                            &lt;/option>
                        &lt;select>
                    </code>
                </pre>
            </section>
            <section>
                <h3>Task 11.2 - Possible Solution</h3>
                <ul>
                    <li>Branch: <span class="code">11_Forms_2</span></li>
                    <li>if you want to throw your local changes <span class="warn">away</span> and you want to see the solution:
                        <span class="code">git reset --hard && git checkout 11_Forms_2</span>
                    </li>
                </ul>
            </section>
        </section>
        <section>
            <section>
                <h2>Form Validation</h2>
                <ul>
                    <li>an important aspect of forms is validation</li>
                    <li>to improve the user experience, simple validations should be performed in the frontend in addition to the backend</li>
                    <li>important validations are can be required fields, field lengths, regular expressions or even custom validations</li>
                </ul>
            </section>
            <section>
                <h3>HTML5 Form Validation</h3>
                <ul>
                    <li>Angular interprets HTML5 validations</li>
                    <li>In the <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5/Constraint_validation">validation standard</a> there is a multitude of validations.</li>
                    <li>Those can be complemented with custom validations</li>
                    <li>Additionally there are also input <span class="code">type</span> <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Form_<input>_types">restrictions</a>:<span class="code">mail</span>, <span class="code">color</span>, <span class="code">date</span>, <span class="code">range</span>, <span class="code">file</span> and many more</li>
                </ul>
                <pre>
                    <code class="hljs html" data-trim contenteditable>
                        &lt;input type="text" required minlength="2" maxlength="24">
                    </code>
                </pre>
            </section>
            <section>
                <h3>Task 11.3 - Form Validation</h3>
                <ul>
                    <li>Branch: <span class="code">11_Forms_2</span></li>
                    <li>Add a <span class="code">mandatory field</span> validation for first name, last name and country</li>
                    <li>Add a <span class="code">MaximumLength</span> validation for first name and last name (16 characters)</li>
                    <li>If the form isn't valid, the <span class="code">submit</span> button should be disabled (Angular Form Properties ;-))</li>
                </ul>
            </section>
            <section>
                <h3>Task 11.3 - Possible Solution</h3>
                <ul>
                    <li>Branch: <span class="code">11_Forms_3</span></li>
                    <li>if you want to throw your local changes <span class="warn">away</span> and you want to see the solution:
                        <span class="code">git reset --hard && git checkout 11_Forms_3</span>
                    </li>
                </ul>
            </section>
        </section>
        <section>
            <h2>Template Driven Forms - everything clear?</h2>
            <img src="../img/dumb_questions.jpg">
        </section>
    </div>
</div>
<script src="../lib/js/head.min.js"></script>
<script src="../js/reveal.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        history: true,
        slideNumber: true,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            {src: '../plugin/markdown/marked.js'},
            {src: '../plugin/markdown/markdown.js'},
            {src: '../plugin/notes/notes.js', async: true},
            {
                src: '../plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            }
        ]
    });
</script>
</body>
</html>
